<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>MicroFactor.Parser</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/MicroFactor.Parser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">microfactor-0.1.0.0: An implementation of the Factor programming lanugage with a feature set reduced to be suitable for microcontrollers</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">MicroFactor.Parser</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parse string to bytecode and resolve identifiers to other functions</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:ParsedRef">ParsedRef</a><ul class="subs"><li>= <a href="#v:Anonymous">Anonymous</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</li><li>| <a href="#v:Named">Named</a> <a href="../parsec-3.1.13.0/Text-Parsec-Pos.html#t:SourcePos" title="Text.Parsec.Pos">SourcePos</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:ResolvedRef">ResolvedRef</a> = <a href="#v:ResolvedRef">ResolvedRef</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>]</li><li class="src short"><a href="#v:expressionParser">expressionParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Command">Command</a><ul class="subs"><li>= <a href="#v:Quit">Quit</a></li><li>| <a href="#v:List">List</a></li><li>| <a href="#v:Define">Define</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</li><li>| <a href="#v:Evaluate">Evaluate</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</li><li>| <a href="#v:ShowDef">ShowDef</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li>| <a href="#v:Load">Load</a> (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</li><li>| <a href="#v:Save">Save</a> (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</li></ul></li><li class="src short"><a href="#v:builtinSymbols">builtinSymbols</a> :: <a href="MicroFactor-Data.html#t:InstructionRef" title="MicroFactor.Data">InstructionRef</a> r =&gt; <a href="../containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> (<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> r)</li><li class="src short"><a href="#v:commandParser">commandParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [<a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a>]</li><li class="src short"><a href="#v:dictionaryParser">dictionaryParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [(<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>])]</li><li class="src short"><span class="keyword">type</span> <a href="#t:MicroFactorScope">MicroFactorScope</a> = <a href="../containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>]</li><li class="src short"><a href="#v:formatScope">formatScope</a> :: <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li><li class="src short"><a href="#v:resolve">resolve</a> :: <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a> -&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] -&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>]</li><li class="src short"><a href="#v:define">define</a> :: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> -&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] -&gt; <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a> -&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a></li><li class="src short"><a href="#v:formatErrorMessages">formatErrorMessages</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ParsedRef" class="def">ParsedRef</a> <a href="src/MicroFactor.Parser.html#ParsedRef" class="link">Source</a> <a href="#t:ParsedRef" class="selflink">#</a></p><div class="doc"><p>The references to callables that the parser emits</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Anonymous" class="def">Anonymous</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</td><td class="doc"><p>a parenthised code block</p></td></tr><tr><td class="src"><a id="v:Named" class="def">Named</a> <a href="../parsec-3.1.13.0/Text-Parsec-Pos.html#t:SourcePos" title="Text.Parsec.Pos">SourcePos</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>an identifier</p></td></tr></table></div><div class="subs instances"><details id="i:ParsedRef" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParsedRef:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a></span> <a href="src/MicroFactor.Parser.html#line-37" class="link">Source</a> <a href="#t:ParsedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParsedRef:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParsedRef:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a></span> <a href="src/MicroFactor.Parser.html#line-37" class="link">Source</a> <a href="#t:ParsedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParsedRef:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ParsedRef:InstructionRef:3"></span> <a href="MicroFactor-Data.html#t:InstructionRef" title="MicroFactor.Data">InstructionRef</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a></span> <a href="src/MicroFactor.Parser.html#line-40" class="link">Source</a> <a href="#t:ParsedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ParsedRef:InstructionRef:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:makeRef">makeRef</a> :: [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] -&gt; <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> <a href="src/MicroFactor.Data.html#makeRef" class="link">Source</a> <a href="#v:makeRef" class="selflink">#</a></p><p class="src"><a href="#v:resolveRef">resolveRef</a> :: <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] <a href="src/MicroFactor.Data.html#resolveRef" class="link">Source</a> <a href="#v:resolveRef" class="selflink">#</a></p><p class="src"><a href="#v:refName">refName</a> :: <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/MicroFactor.Data.html#refName" class="link">Source</a> <a href="#v:refName" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ResolvedRef" class="def">ResolvedRef</a> <a href="src/MicroFactor.Parser.html#ResolvedRef" class="link">Source</a> <a href="#t:ResolvedRef" class="selflink">#</a></p><div class="doc"><p>An optionally named reference to more instructions</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ResolvedRef" class="def">ResolvedRef</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:ResolvedRef" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ResolvedRef:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a></span> <a href="src/MicroFactor.Parser.html#line-47" class="link">Source</a> <a href="#t:ResolvedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ResolvedRef:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ResolvedRef:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a></span> <a href="src/MicroFactor.Parser.html#line-54" class="link">Source</a> <a href="#t:ResolvedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ResolvedRef:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ResolvedRef:InstructionRef:3"></span> <a href="MicroFactor-Data.html#t:InstructionRef" title="MicroFactor.Data">InstructionRef</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a></span> <a href="src/MicroFactor.Parser.html#line-49" class="link">Source</a> <a href="#t:ResolvedRef" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ResolvedRef:InstructionRef:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:makeRef">makeRef</a> :: [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>] -&gt; <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> <a href="src/MicroFactor.Data.html#makeRef" class="link">Source</a> <a href="#v:makeRef" class="selflink">#</a></p><p class="src"><a href="#v:resolveRef">resolveRef</a> :: <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>] <a href="src/MicroFactor.Data.html#resolveRef" class="link">Source</a> <a href="#v:resolveRef" class="selflink">#</a></p><p class="src"><a href="#v:refName">refName</a> :: <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/MicroFactor.Data.html#refName" class="link">Source</a> <a href="#v:refName" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:expressionParser" class="def">expressionParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] <a href="src/MicroFactor.Parser.html#expressionParser" class="link">Source</a> <a href="#v:expressionParser" class="selflink">#</a></p><div class="doc"><p>A parser for an expression, i.e. an instruction sequence with at least one element</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Command" class="def">Command</a> <a href="src/MicroFactor.Parser.html#Command" class="link">Source</a> <a href="#t:Command" class="selflink">#</a></p><div class="doc"><p>The various commands available on the REPL</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Quit" class="def">Quit</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:List" class="def">List</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Define" class="def">Define</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Evaluate" class="def">Evaluate</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ShowDef" class="def">ShowDef</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Load" class="def">Load</a> (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Save" class="def">Save</a> (<a href="../base-4.12.0.0/GHC-Maybe.html#t:Maybe" title="GHC.Maybe">Maybe</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Command" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Command:Eq:1"></span> <a href="../base-4.12.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a></span> <a href="src/MicroFactor.Parser.html#line-116" class="link">Source</a> <a href="#t:Command" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Command:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="../base-4.12.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Command:Show:2"></span> <a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a></span> <a href="src/MicroFactor.Parser.html#line-116" class="link">Source</a> <a href="#t:Command" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Command:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="MicroFactor-Parser.html">MicroFactor.Parser</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a>] -&gt; <a href="../base-4.12.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:builtinSymbols" class="def">builtinSymbols</a> :: <a href="MicroFactor-Data.html#t:InstructionRef" title="MicroFactor.Data">InstructionRef</a> r =&gt; <a href="../containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> (<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> r) <a href="src/MicroFactor.Parser.html#builtinSymbols" class="link">Source</a> <a href="#v:builtinSymbols" class="selflink">#</a></p><div class="doc"><p>A lookup map of all the available <code><a href="MicroFactor-Data.html#v:Operator" title="MicroFactor.Data">Operator</a></code>s from their names, including the two boolean literals</p></div></div><div class="top"><p class="src"><a id="v:commandParser" class="def">commandParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [<a href="MicroFactor-Parser.html#t:Command" title="MicroFactor.Parser">Command</a>] <a href="src/MicroFactor.Parser.html#commandParser" class="link">Source</a> <a href="#v:commandParser" class="selflink">#</a></p><div class="doc"><p>A parser for a sequence of commands</p></div></div><div class="top"><p class="src"><a id="v:dictionaryParser" class="def">dictionaryParser</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-String.html#t:Parser" title="Text.Parsec.String">Parser</a> [(<a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>])] <a href="src/MicroFactor.Parser.html#dictionaryParser" class="link">Source</a> <a href="#v:dictionaryParser" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:MicroFactorScope" class="def">MicroFactorScope</a> = <a href="../containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>] <a href="src/MicroFactor.Parser.html#MicroFactorScope" class="link">Source</a> <a href="#t:MicroFactorScope" class="selflink">#</a></p><div class="doc"><p>A <code><a href="../containers-0.6.0.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a></code> of available functions</p></div></div><div class="top"><p class="src"><a id="v:formatScope" class="def">formatScope</a> :: <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/MicroFactor.Parser.html#formatScope" class="link">Source</a> <a href="#v:formatScope" class="selflink">#</a></p><div class="doc"><p>show the definitions that created the scope, line by line</p></div></div><div class="top"><p class="src"><a id="v:resolve" class="def">resolve</a> :: <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a> -&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>] -&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ResolvedRef" title="MicroFactor.Parser">ResolvedRef</a>] <a href="src/MicroFactor.Parser.html#resolve" class="link">Source</a> <a href="#v:resolve" class="selflink">#</a></p><div class="doc"><p>Try to resolve the <code><a href="MicroFactor-Parser.html#v:Named" title="MicroFactor.Parser">Named</a></code> <code><a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a></code>s in a <code><a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a></code> sequence.
 Uses the <code><a href="MicroFactor-Parser.html#v:builtinSymbols" title="MicroFactor.Parser">builtinSymbols</a></code> or a lookup in the supplied scope,
 emitting an <em>unknown identifier</em> message if it fails for any</p></div></div><div class="top"><p class="src"><a id="v:define" class="def">define</a> <a href="src/MicroFactor.Parser.html#define" class="link">Source</a> <a href="#v:define" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc"><p>Name of the new function</p></td></tr><tr><td class="src">-&gt; [<a href="MicroFactor-Data.html#t:MicroFactorInstruction" title="MicroFactor.Data">MicroFactorInstruction</a> <a href="MicroFactor-Parser.html#t:ParsedRef" title="MicroFactor.Parser">ParsedRef</a>]</td><td class="doc"><p>Body of the new function</p></td></tr><tr><td class="src">-&gt; <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> <a href="MicroFactor-Parser.html#t:MicroFactorScope" title="MicroFactor.Parser">MicroFactorScope</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Add a function definition to the scope.
 Uses <code><a href="MicroFactor-Parser.html#v:resolve" title="MicroFactor.Parser">resolve</a></code>, but also supports recursive definitions to the new function itself.
 TODO: Does not yet update references when redefining an existing name</p></div></div><div class="top"><p class="src"><a id="v:formatErrorMessages" class="def">formatErrorMessages</a> :: <a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a> -&gt; <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="src/MicroFactor.Parser.html#formatErrorMessages" class="link">Source</a> <a href="#v:formatErrorMessages" class="selflink">#</a></p><div class="doc"><p>show the <code><a href="../parsec-3.1.13.0/Text-Parsec-Error.html#v:errorMessages" title="Text.Parsec.Error">errorMessages</a></code> of a <code><a href="../parsec-3.1.13.0/Text-Parsec-Error.html#t:ParseError" title="Text.Parsec.Error">ParseError</a></code> only (not its <code><a href="../parsec-3.1.13.0/Text-Parsec-Error.html#v:errorPos" title="Text.Parsec.Error">errorPos</a></code>).
 Otherwise very similar to the <code><a href="../base-4.12.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a></code> instance. Notice the leading linebreak!</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>